on: push

runs-on: ${{ matrix.os }}
strategy:
    matrix:
        include:
            - os: windows-latest

uses: actions/checkout@v2

name: Build for Windows
  if: matrix.os == 'windows-latest'
  run: cargo build -p arti --locked --release

name: Upload binaries to release
  uses: svenstaro/upload-release-action@v2
  with:
      repo_token: ${{ secrets.GITHUB_TOKEN }}
      file: dist/${{ matrix.artifact_name }}
      asset_name: ${{ matrix.asset_name }}
      tag: ${{ github.ref }}
      
